<template>
    <div>
        <div class="container">
            <h1>Encuentra tu próxima estancia.</h1>
            <h2>Busca ofertas en hoteles, casas y mucho más...</h2>
            <div id="card-list" class="row" style="margin-top: 20px;" v-for="item in accommodations" :key="item['id']">
                <AccomodationCard :cancellation-price="item['cancellation']['price']"
                    :has-cancellation="item['cancellation']['hasCancellation']" :has-wifi="item['hasWifi']"
                    :image-id="item['image']" :price="item['price']" :puntation="item['puntuation']"
                    :type-cancellation="item['cancellation']['type']" :title="item['name']" :ubication="item['ubication']">
                </AccomodationCard>
            </div>
            <div id="loading" class="text-center" style="display: none;">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>
</template>

<script setup>
import AccomodationCard from "../components/AccomodationCard.vue"
import { onMounted } from 'vue';
import { apiStarlight } from '../provider/api'
const { accommodations, getAccommodations } = apiStarlight();
onMounted(() => {
    getAccommodations()
})

</script>

<style lang="css" scoped></style>